<head>
  <title>Planning Poker</title>
</head>

<body>
  <div class="container-fluid">
    <div class="row-fluid">
        <div class="row main span9">
            <div class="row">
                {{> stage}}
            </div>
            <div class="row">
                {{> message}}
            </div>
            <div class="row">
                {{> card_board}}
            </div>
        </div>
        <div class="sidebar span3">
            <div class="row">
                {{> join_game}}
            </div>
            <div class="row">
                {{> current_players}}
            </div>
        </div>
    </div>
  </div>
</body>

<template name="message">
    <div class="message alert alert-info">
        {{ message.content }}
    </div>
</template>

<template name="stage">
    <div class="stage well">
        {{#if everyone_voted}}
            <div class="row-fluid">
            {{#each players}}
                {{> player_vote}}
            {{/each}}
                <div class="player-vote stage-control">
                    <input type="button" class="clear-votes btn btn-primary btn-danger" value="Clear Votes" />
                </div>
            </div>
        {{/if}}
    </div>
</template>

<template name="player_vote">
    <div class="player-vote">
        <span class="vote">{{vote.name}}</span>
        <span class="name">{{name}}</span>
    </div>
</template>

<template name="join_game">
  <div class="join-game well">
    <input type="text" id="player-name-input" class="span12" placeHolder="Enter your name" />
        <input type="button" class="join btn btn-primary span12" value="Join the game!" />
  </div>
</template>

<template name="current_players">
    <div class="current-players well">
        <h5>Current Players</h5>
        <table class="table">
            <thead>
                <th>Names</th>
                <th>Voted</th>
                <th></th>
            </thead>
            <tbody>
            {{#each players}}
              {{> player}}
            {{/each}}
            </tbody>        
        </table>
    </div>
</template>

<template name="player">
  <tr class="player {{#if selected}}info{{/if}}">
    <td class="span8">{{name}}{{#if selected}} (You){{/if}}</td>
    <td class="span2">
        {{#if voted}}
        <i class="icon-ok"></i>
        {{/if}}
    </td>
    <td class="span2"><input type="button" class="remove-player btn btn-mini" value="X" /></td>
  </tr>
</template>

<template name="card_board">
    <div class="card-list row-fluid">
        {{#each cards}}
            {{> card}}
        {{/each}}
    </div>
</template>

<template name="card">
    <div class="card {{selected}}">
        <input type="button" class="vote btn btn-large {{#if selected}}btn-inverse{{/if}}" value="{{name}}" />
    </div>
</template>

